@model LoanApplicationService.Service.DTOs.CustomerModule.CustomerDto
@{
    Layout = "~/Views/Customer/Shared/_CustomerLayout.cshtml";
    ViewData["Title"] = "Edit Profile";
}

<div class="container mt-4">
    <div class="form-card">
        <div class="form-card-header">
            <h2>Edit Profile</h2>
        </div>
        
        <div class="form-card-body">
            @if (TempData["Error"] != null)
            {
                <div class="alert alert-danger">@TempData["Error"]</div>
            }
            @if (TempData["ProfileSuccess"] != null)
            {
                <div class="alert alert-success">@TempData["ProfileSuccess"]</div>
            }
            
            @using (Html.BeginForm("EditProfile", "Customer", FormMethod.Post, new { @class = "form-horizontal" }))
            {
                @Html.AntiForgeryToken()
                @Html.HiddenFor(model => model.CustomerId)
                @Html.HiddenFor(model => model.FirstName)
                @Html.HiddenFor(model => model.LastName)
                @Html.HiddenFor(model => model.Address)
                @Html.HiddenFor(model => model.DateOfBirth)
                @Html.HiddenFor(model => model.NationalId)
                @Html.HiddenFor(model => model.RiskLevel)
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                
                @Html.Partial("CustomerProfileFormFields", Model)
                
                <div class="form-card-footer">
                    <button type="submit" class="btn btn-primary">Save Changes</button>
                    <a href="/Customer/Profile" class="btn btn-secondary ms-2">Cancel</a>
                </div>
            }
        </div>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
} 
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Dashboard";
}

<div class="container py-4">
    <h1 class="mb-4">
        @if (User.IsInRole("SuperAdmin"))
        {
            <span>Super Admin Dashboard</span>
        }
        else
        {
            <span>Admin Dashboard</span>
        }
    </h1>
    @if (TempData["WelcomeMessage"] != null)
    {
        <div id="welcomeMsg" class="alert alert-success alert-dismissible fade show">
            <i class="bi bi-check-circle me-2"></i>
            @TempData["WelcomeMessage"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
        <script>
            setTimeout(function() {
                var msg = document.getElementById('welcomeMsg');
                if (msg) {
                    msg.style.opacity = '0';
                    msg.style.transition = 'opacity 0.5s ease-out';
                    setTimeout(function() {
                        if (msg) msg.style.display = 'none';
                    }, 500);
                }
            }, 4000);
        </script>
    }
    else
    {
        <div id="welcomeMsg" class="alert alert-info">Welcome!</div>
        <script>
            setTimeout(function() {
                var msg = document.getElementById('welcomeMsg');
                if (msg) msg.style.display = 'none';
            }, 10000);
        </script>
    }
    <div class="row g-4 mb-4">
        <div class="col-md-4 col-lg-2">
    <a href="/Users" style="text-decoration: none;">
        <div class="card text-white bg-primary h-100 shadow" style="cursor:pointer;">
            <div class="card-body d-flex flex-column align-items-center justify-content-center">
                <i class="bi bi-people-fill display-5 mb-2"></i>
                <h5 class="card-title">Total Users</h5>
                <h3>@ViewBag.TotalUsers</h3>
            </div>
        </div>
    </a>
</div>
        <div class="col-md-4 col-lg-2">
    <a href="/LoanApplication/Index?status=3" style="text-decoration: none;">
        <div class="card text-white bg-success h-100 shadow" style="cursor:pointer;">
            <div class="card-body d-flex flex-column align-items-center justify-content-center">
                <i class="bi bi-cash-stack display-5 mb-2"></i>
                <h5 class="card-title">Total Loan Disbursed</h5>
                <h3>@ViewBag.TotalLoanDisbursed.ToString("C")</h3>
            </div>
        </div>
    </a>
</div>
        <div class="col-md-4 col-lg-2">
    <a href="/LoanApplication/Index?status=0" style="text-decoration: none;">
        <div class="card text-white bg-warning h-100 shadow" style="cursor:pointer;">
            <div class="card-body d-flex flex-column align-items-center justify-content-center">
                <i class="bi bi-file-earmark-text display-5 mb-2"></i>
                <h5 class="card-title">Pending Applications</h5>
                <h3>@ViewBag.PendingApplications</h3>
            </div>
        </div>
    </a>
</div>
        <div class="col-md-4 col-lg-2">
    <a href="/LoanApplication/Index?status=1" style="text-decoration: none;">
        <div class="card text-white bg-info h-100 shadow" style="cursor:pointer;">
            <div class="card-body d-flex flex-column align-items-center justify-content-center">
                <i class="bi bi-check-circle display-5 mb-2"></i>
                <h5 class="card-title">Approved Applications</h5>
                <h3>@ViewBag.ApprovedApplications</h3>
            </div>
        </div>
    </a>
</div>
        <div class="col-md-4 col-lg-2">
    <a href="/LoanApplication/Index?status=2" style="text-decoration: none;">
        <div class="card text-white bg-danger h-100 shadow" style="cursor:pointer;">
            <div class="card-body d-flex flex-column align-items-center justify-content-center">
                <i class="bi bi-x-circle display-5 mb-2"></i>
                <h5 class="card-title">Rejected Applications</h5>
                <h3>@ViewBag.RejectedApplications</h3>
            </div>
        </div>
    </a>
</div>
<div>
        <div class="col-md-4 col-lg-2">
                <a href="/Notification" style="text-decoration: none;">
            <div class="card text-white bg-secondary h-100 shadow">
                <div class="card-body d-flex flex-column align-items-center justify-content-center">
                    <i class="bi bi-envelope-fill display-5 mb-2"></i>
                    <h5 class="card-title">Emails</h5>
                    <h3>@ViewBag.NewMessages</h3>
                </div>
            </div>
        </div>
    </div>
    </div>
    
    </div>
</div>
